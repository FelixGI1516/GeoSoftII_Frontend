{
  "processes": [
    {
      "id": "ndvi",
      "summary": "Normalized Difference Vegetation Index",
      "description": "Computes the Normalized Difference Vegetation Index (NDVI). The NDVI is computed as *(nir - red) / (nir + red)*.\n\nThe `data` parameter expects a raster data cube as NetCDF including Sentinel2-Data. This cube has three dimensions and two data variables. Dimension are time, lon and lat while data variables are red and nir.\n\n. Also the function takes a bounding box (epsg4326) containing the area of interest. \n\n. As a result of the computation, a xarray including the ndvi-values is returned.",
      "categories": [
        "math > indices",
        "vegetation indices"
      ],
      "parameters": [
        {
          "name": "data",
          "description": "Sentinel-2 data as a xarray.",
          "schema": {
            "type": "object",
            "subtype": "raster-cube"
          }
        },
        {
          "name": "bb",
          "description": "bounding box containing area of interest, epsg 4326.",
          "schema": {
            "type": "array",
            "items": {
              "type": "number"
            }
          }
        }
      ],
      "returns": {
        "description": "A xarray.core.dataset.Dataset containing the computed NDVI values.",
        "schema": {
          "type": "object",
          "subtype": "raster-cube"
        }
      },
      "exceptions": {
        "ValueError": {
          "message": "Red or Nir is empty."
        }
      },
      "links": [
        {
          "rel": "about",
          "href": "https://en.wikipedia.org/wiki/Normalized_difference_vegetation_index",
          "title": "NDVI explained by Wikipedia"
        },
        {
          "rel": "about",
          "href": "https://earthobservatory.nasa.gov/features/MeasuringVegetation/measuring_vegetation_2.php",
          "title": "NDVI explained by NASA"
        }
      ]
    },
    {
      "id": "mean_sst",
      "summary": "Mean Sea Surface Temperature",
      "description": "Computes the arithmatic mean of sst data. The arithmetic mean is defined as the sum of all elements divided by the number of elements. The user defines a timeframe and optionally also a spatial subset for which the mean is to be computed. For each day in the given timeframe the sea surface temperature values for a cell are summed up and divided by the number of days in the timeframe. This is done for all cells within the spatial subset or, if no bounding box was defined, for all cells in the dataset.",
      "categories": [
        "math",
        "reducer"
      ],
      "parameters": [
        {
          "name": "data",
          "description": "A raster data cube containing sst data.",
          "schema": {
            "type": "object",
            "subtype": "raster-cube"
          }
        },
        {
          "name": "timeframe",
          "description": "An array with two values: [start date, end date]. Timeframe values are strings of the format 'year-month-day'. For example: '1981-01-01'.",
          "schema": {
            "type": "array",
            "items": {
              "type": "string",
              "subtype": "date"
            }
          }
        },
        {
          "name": "bbox",
          "description": "An array with four values: [min Longitude, min Latitude, max Longitude, max Latitude]. For example: [0,-90,360,90]",
          "schema": {
            "type": "array",
            "items": {
              "type": "number"
            }
          },
          "optional": true
        }
      ],
      "returns": {
        "description": "A raster data cube containing the computed mean sea surface temperature.",
        "schema": {
          "type": "object",
          "subtype": "raster-cube"
        }
      },
      "exceptions": {
        "ParameterTypeError": {
          "message": "Values of Parameter bbox must be numbers and values of parameter timeframe must be strings of the format 'year-month-day'. For example '1981-01-01'. Please specify values that follow this."
        },
        "BboxLengthError": {
          "message": "Parameter bbox is an array with four values: [min Longitude, min Latitude, max Longitude, max Latitude]. Please specify an array with exactly four values."
        },
        "BboxCellsizeError": {
          "message": "Difference between first and second Latitude or first and second Longitude value is too small. Please check the cellsize of the dataset."
        },
        "LongitudeValueError": {
          "message": "Longitude values are out of bounds. Please check the range of the dataset."
        },
        "LatitudeValueError": {
          "message": "Latitude values are out of bounds. Please check the range of the dataset."
        },
        "TimeframeLengthError": {
          "message": "Parameter timeframe is an array with two values: [start date, end date]. Please specify an array with exactly two values."
        },
        "TimeframeValueError": {
          "message": "Timeframe values are out of bounds. Please check the range of the dataset."
        },
        "DatasetAttributesError": {
          "message": "Parameter data must include dimensions 'lat', 'lon' and 'time' and a data variable named 'sst'."
        }
      },
      "links": [
        {
          "rel": "about",
          "href": "https://en.wikipedia.org/wiki/Arithmetic_mean",
          "title": "Arithmetic mean explained by Wikipedia"
        },
        {
          "rel": "about",
          "href": "https://en.wikipedia.org/wiki/Sea_surface_temperature",
          "title": "Sea surface temperature explained by Wikipedia"
        }
      ]
    },
    {
      "id": "save_result",
      "summary": "Saves the Result in the specified  format with the specified name.",
      "description": "Saves the Result in the specified  format with the specified name.",
      "categories": [
        "saving"
      ],
      "parameters": [
        {
          "name": "SaveData",
          "description": "Specify the name of Former process which result will be saved",
          "schema": {
            "type": "object",
            "subtype": "raster-cube"
          }
        },
        {
          "name": "Format",
          "description": "The File Format. Available formats are netcdf",
          "schema": {
            "type": "string"
          }
        }
      ],
      "returns": {
        "description": "Returns a boolean which indicates if the save was successfull",
        "schema": {
          "type": "boolean"
        }
      },
      "exceptions": {
        "InvalidFileFormat": {
          "message": "Invalid File Format. Compatible Formats are: netcdf"
        },
        "InvalidFileName": {
          "message": "Invalid File Name. Please choose an other name"
        }
      }
    },
    {
      "id": "load_collection",
      "summary": "Loads the requested collection",
      "description": "Loads the requested collection from storage and returns the requested timeframe as a datacube",
      "categories": [
        "loading"
      ],
      "parameters": [
        {
          "name": "Collection",
          "description": "A string with the name of the requested collection ",
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "start",
          "decription": "A string in form of an datetime64[ns] object as start of the timeframe",
          "shema": {
            "type": "string",
            "subtype": "datetime64[ns]"
          }
        },
        {
          "name": "end",
          "decription": "A string in form of an datetime64[ns] object as end of the timeframe",
          "shema": {
            "type": "string",
            "subtype": "datetime64[ns]"
          }
        }
      ],
      "returns": {
        "description": "Returns a Datacube",
        "shema": {
          "type": "object",
          "subtype": "raster-cube"
        }
      },
      "exceptions": {
        "NoPath": {
          "message": "No file in this path"
        },
        "NoResolution": {
          "message": "Invalid Resolution, try 10, 20, 60 or 100"
        },
        "NoSafeFileError": {
          "message": "In this directory is no SAFE file to build a cube"
        },
        "FileNotFoundError": {
          "message": "Directory empty"
        },
        "DirectoryNotFoundError": {
          "message": "No matching directory found"
        },
        "TimeframeError": {
          "message": "Ending year must be bigger than beginning year"
        },
        "NotNetCDFError": {
          "message": "Path does not belong to a netCDF-file"
        },
        "FilenameError": {
          "message": "Name is not a permitted filename"
        },
        "TimeframeLengthError": {
          "message": "Parameter timeframe is an array with two values: [start date, end date]. Please specify an array with exactly two values."
        },
        "TimeframeValueError": {
          "message": "Timeframe values are out of bounds. Please check the range of the dataset."
        },
        "ParameterTypeError": {
          "message": "Values of parameter timeframe must be strings of the format 'year-month-day'. For example '1981-01-01'. Please specify values that follow this."
        }
      }
    }
  ],
  "links": [
    {
      "rel": "alternate",
      "href": "https://provider.com/processes",
      "type": "text/html",
      "title": "HTML version of the processes"
    }
  ]
}